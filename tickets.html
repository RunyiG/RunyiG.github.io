<!DOCTYPE html>
<html>
	<head>
		<title>Edgar Degas - Buy Tickets</title>
		<link rel="stylesheet" type="text/css" href="styleInd.css">
	</head>
	<body>
		<nav>
            <div class="header"> 
                <h1>Edgar Degas</h1>
                <div class="nav">
                    <a href="gallery.html"><p class="navItem"> Gallery </p></a>
                    <a href="tickets.html"><p class="navItem"> Buy Tickets </p></a>
                </div>
            </div>
        </nav>

		<h1>Come Buy Your Ticket Now!</h1>
		<h3>The art show will run from December 2nd through December 11th. </h3> 
		<p>Book your ticket in advance, simply enter your email address to get the e-ticket.</p>
		<p>Please note, there is a limit of 10 tickets per party.</p> 
		<p>Number of ticket(s):</p>
		<input type="number" min="0" max="10" id="numberTicket">
		<p>Enter Email to receive your e-ticket:</p>
		<input type="email" id="emailAddress">
		<p>Date of visit:</p>
		<input type="date" min="2022-12-02" max="2022-12-11" id="dateVisit">
		<button onclick="checkEmail(), confirm()">Confirm</button> <!-- first check the email is valid, then confirm the tickets -->
			<script>
				var validEmail = false;

				function checkEmail() {
					var mailFormat=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/; //to use RegEx to confirm that the email is valid
					var getEmail=document.querySelector("#emailAddress").value;
						if (getEmail.match(mailFormat)) {
							validEmail = true;
						}
						else {
							validEmail = false;
						}
				}

				function confirm() {
					var getNumber=document.querySelector("#numberTicket").value;
					if (getNumber<1) { //check that they've entered numbers first
						alert("Please select your number of tickets!");
					}else{
						if(validEmail){ //check that the email is valid
							if (getNumber==1) {
								alert("One ticket has been sent to your email!");
							}else {
								alert(getNumber+" tickets have been sent to your email!");
							}
						}else{
							alert("Email invalid, please re-enter.");
						}
					}
				}
			</script>
	</body>
</html>
